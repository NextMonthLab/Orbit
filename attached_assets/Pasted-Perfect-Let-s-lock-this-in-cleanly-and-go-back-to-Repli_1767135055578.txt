Perfect. Let‚Äôs lock this in cleanly and go back to Replit with a revised plan that is clear, buildable, and non-negotiable.

What follows is the exact message I‚Äôd send. It reframes the work from ‚Äúimproving previews‚Äù to fixing the story engine architecture.

You can copy/paste this as-is.

‚∏ª

üî¥ Revised Plan for IceMaker ‚Äì Story Fidelity, Previews & Expansion

We‚Äôve reviewed the current IceMaker story formation logic and confirmed that the existing single-prompt summarisation approach is not suitable for script-based projects.

We are revising the plan to introduce Story Fidelity Modes, structural ingest, and selective expansion, without increasing unnecessary generation costs.

Please treat the following as the updated, canonical direction.

‚∏ª

1. Separate Structural Ingest from Story Generation (New Required Step)

When a user uploads content (especially scripts), the system must first perform a Structural Ingest step before any preview cards are generated.

Structural Ingest responsibilities:
	‚Ä¢	Detect content type (script vs article vs webpage)
	‚Ä¢	If script detected:
	‚Ä¢	Parse and preserve:
	‚Ä¢	scene order
	‚Ä¢	scene headings (INT./EXT.)
	‚Ä¢	characters
	‚Ä¢	dialogue blocks
	‚Ä¢	action blocks
	‚Ä¢	Create an internal scene map (no cards yet)
	‚Ä¢	This step is:
	‚Ä¢	automatic
	‚Ä¢	low-cost
	‚Ä¢	not surfaced as a ‚Äúpreview‚Äù
	‚Ä¢	treated as scaffolding, not output

This ensures the system understands the shape of the story before rendering anything.

‚∏ª

2. Introduce Story Fidelity Modes (Mandatory)

IceMaker must no longer use a single story-generation prompt for all content types.

At minimum, introduce the following modes:

A. Script-Exact Mode (Default for scripts)
	‚Ä¢	Script is treated as canonical source
	‚Ä¢	No summarisation or reinterpretation
	‚Ä¢	Cards are generated from scenes, not themes
	‚Ä¢	Preserve:
	‚Ä¢	narrative order
	‚Ä¢	character intent
	‚Ä¢	dramatic beats
	‚Ä¢	Enhance only:
	‚Ä¢	visual framing
	‚Ä¢	card titles
	‚Ä¢	interaction layers
	‚Ä¢	No creative deviation allowed

This mode is required for filmmakers and writers uploading their own scripts.

B. Interpretive Preview Mode (Existing behaviour, relabelled)
	‚Ä¢	Current summarisation behaviour is acceptable here
	‚Ä¢	Used for:
	‚Ä¢	articles
	‚Ä¢	websites
	‚Ä¢	decks
	‚Ä¢	marketing previews
	‚Ä¢	Clearly framed as interpretive, not faithful

‚∏ª

3. Redefine ‚ÄúPreview‚Äù Behaviour (Deliberately Limited)

A preview is not a full story summary.

For previews:
	‚Ä¢	Limit the number of generated cards intentionally
	‚Ä¢	Limits should be based on structure, not arbitrary word count

Examples:
	‚Ä¢	First 3‚Äì5 scenes
	‚Ä¢	One scene per act
	‚Ä¢	Inciting incident + key tone scenes
	‚Ä¢	Or user-selected scenes

The goal of a preview is to:
	‚Ä¢	prove fidelity to the source
	‚Ä¢	demonstrate cinematic potential
	‚Ä¢	build trust

Not to cover the entire plot.

‚∏ª

4. Enable Selective Expansion (Commercial & UX Requirement)

Once the full scene map exists, users must be able to choose what to bring to life.

Add options in the Shopping List / Production Manifest:
	‚Ä¢	Generate entire story
	‚Ä¢	Generate Act 1 only
	‚Ä¢	Generate selected scenes
	‚Ä¢	Generate remaining scenes later

This allows users to:
	‚Ä¢	control scope
	‚Ä¢	manage budget
	‚Ä¢	work iteratively
	‚Ä¢	expand over time

This mirrors real production decisions and increases conversion without forcing full generation upfront.

‚∏ª

5. Where to Implement

The intervention point remains:
	‚Ä¢	server/routes.ts
	‚Ä¢	/api/ice/preview/upload
	‚Ä¢	/api/ice/preview/* endpoints

Specifically:
	‚Ä¢	Replace the single summarisation prompt
	‚Ä¢	Add:
	‚Ä¢	content-type detection
	‚Ä¢	structural ingest step
	‚Ä¢	mode-based generation prompts
	‚Ä¢	preview limits tied to structure

‚∏ª

6. Acceptance Criteria (Non-Negotiable)

We will consider this complete when:
	‚Ä¢	A filmmaker uploads a script
	‚Ä¢	The preview follows their scene order and intent
	‚Ä¢	No thematic summarisation replaces structure
	‚Ä¢	The user can clearly see:
	‚Ä¢	what has been generated
	‚Ä¢	what remains
	‚Ä¢	and choose what to expand next

This is a foundational fix, not a cosmetic improvement.

‚∏ª

If everything above is clear, please revise the task list to reflect this plan before proceeding with implementation.

‚∏ª

That‚Äôs it.
Clear, firm, and aligned with both creative integrity and commercial reality.

Once Replit comes back with the revised task list, bring it straight here and we‚Äôll sanity-check it before you let them build.

You‚Äôve just turned IceMaker from a ‚Äúcool AI demo‚Äù into a serious storytelling tool.